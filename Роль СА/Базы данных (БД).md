
[[Работа с базами данных]]

==БД== - совокупность данных, организованных в соответствии с концептуальной структурой, описывающей характеристики этих данных и взаимоотношения между соответствующими сущностями и поддерживающей одну или более областей применения                                        

==СУБД== - ПО для удобного управления БД, позволяющее создать БД и манипулировать данными БД

Топ 10 бд:
Oracle, MySQL, Microsoft SQL Server, PostgreSQ, mongoDB, redis, IBM DB2, elasticsearch, SQLite, cassandra, ClickHouse

==Основные функции СУБД==:
- Управление данными во внешней памяти (на дисках)
- Управление данными в оперативной памяти с использованием дискового кэша
- Журнализация изменений данных
- Резервное копирование и восстановление БД
- Поддержка языков БД для манипулирования данными

==Свойства проектируемой БД==:
- Целостность
- Восстанавливаемость
- Безопасность
- Эффективность

==Классификация СУБД==:

| По модели данных | По способу доступа | По организации данных |
| ---------------- | ------------------ | --------------------- |
| Иерархическая    | Локальные          | Файл-Серверные        |
| Сетевая          | Распределенные     | Клиент-серверные      |
| Реляционная      |                    | Встраиваемые          |
| Нереляционная    |                    |                       |

==Модель данных== - формальное описание структуры хранения информации

Иерархическая модель
Один ко многим
родитель - уровень 1 потомок - уровень 2

Сетевая модель
многие ко многим

==Реляционная модель==
Это модель данных, структура которой основана на наборе отношений (таблице)

==Принципы РБД== (реляционных БД):
- Данные хранятся в таблицах (отношениях), состоящих из столбцов (атрибутов, полей) и строк (кортежей)
- У каждого столбца есть свое имя и тип
- В таблице может быть минимум один столбец. А строк в таблице может не быть
- Запрос к БД возвращает результат в виде таблиц

==Нереляционная модель==
Это модель данных, в которой в отличии от большинства традиционных систем БД не используется табличная схема строк и столбцов
Применяется такая модель, которая оптимизирована под конкретные требования типа хранимых данных

==Преимущества НБД== (нереляционные БД)
- Гибкость
- Масштабируемость
Возможность добавить серверы
- Высокая производительность
Для большого объема данных
- Широкие функциональные возможности

==Виды НБД== NoSQL
- key - value storage
- Документно-ориентированное хранилище БД
- Колоночное хранилище (столбцовое)
- Графовое хранилище

==Key - value storage== redis
Для чего: *Кэш*, сессии, Счетчик посещений/просмотров, Хранение изображений

| Плюсы                            | Минусы                                                                |
| -------------------------------- | --------------------------------------------------------------------- |
| Быстрая запись                   | Невозможность выполнения сложных запросов                             |
| Быстрое получение (поиск) данных | Невозможность выполнения агрегации данных                             |
| Легкая масштабируемость          | Медленный поиск по значениям                                          |
|                                  | Возможные проблемы с генерацией ключа (при работе с большими данными) |

==Документно-ориентированное хранилище БД== mongoDB
для хранения полуструктурированных данных
Для чего: Каталоги, профили пользователей, управления контентом

| Плюсы                          | Минусы                                     |
| ------------------------------ | ------------------------------------------ |
| Отсутствие схемы               | Ограничение по проверке на согласованность |
| Высокая производительность     | Проблемы с атомарностью                    |
| Легкая масштабируемость        | Безопасность                               |
| Гибкость                       |                                            |
| Отсутствие внешних ключей      |                                            |
| Открытые форматы               |                                            |
| Встроенное управление версиями |                                            |

==Колоночное хранилище (столбцовое)== Cassandra ClickHouse
Для чего: большой объем данных, аналитика

| Плюсы                                        | Минусы                        |
| -------------------------------------------- | ----------------------------- |
| Сжатие данных                                | Ограничения для разработчиков |
| Высокая производительность                   | Медленно работают на запись   |
| Агрегация запросов на больших объемах данных |                               |
| Легкая масшатбируемость                      |                               |

==Графовое хранилище== neo4j
для чего: Большой объем связанных данных, соцсети, рекомендательные системы

==Сравнение РБД и НБД==

|                  | РБД                             | НБД                                                                   |
| ---------------- | ------------------------------- | --------------------------------------------------------------------- |
| Модель данных    | в виде таблиц                   | разнообразные модели данных ("ключ-значение", документы, графы и тд.) |
| Масштабируемость | вертикальное масштабирование    | вертикальное  и горизонтальное масштабирование                        |
| Запросы          | [[SQL]]                         | свой режим работы                                                     |
| Поддержка        | высокая                         | невысокая                                                             |
| [[ACID]]         | обеспечивают набор свойств ACID | смягчают жесткие требования свойств ACID                              |


